# 디자인 패턴


### 팩토리 패턴

**객체를 생성하기 위한 제너릭 인터페이스**

생성자를 통해 객체를 찍어낸다. 공장마냥 </br>
</br>
팩토리가 하는일은...</br>

> 비슷한 객체를 생성하는 반복작업을 한다.

new연산자, Object.create()를 사용해 직접 새 객체를 만드는 대신 팩토리를 호출하자.</br>
팩토리 패턴은 객체 생성과 구현을 분리할 수 있게 해준다. 팩토리는 새로운 인스턴스의 생성을 </br>
감싸서 유연성을 제공해준다. 팩토리 내 클로저를 활용, 프로토타입과 new 연산자, </br>
Object.create()를 사용하여 새로운 인스턴스를 생성하거나 반환해준다.</br>

```javascript
function choco(){
  this.taste = 'choco';
  this.sugarvolume = 23;
}

function strawBerry(){
  this.taste = 'strawberry';
  this.sugarvolume = 45;
}

function vanilla(){
  this.taste = 'vanilla';
  this.sugarvolume = 9;
}

function iceCreamteFactory(){

  this.createIceCreame = function (taste){
    let icecreame;
    if(taste === 'choco'){
      icecreame = new choco();
    } 
    else if(taste === 'strawberry'){
      icecreame = new strawBerry();
    }
    else if(taste === 'vanilla'){
      icecreame = new vanilla();
    }
    else{
      throw new Error("no taste");
    }
    icecreame.getInfo = function(){
      console.log(`taste = ${icecreame.taste}, sugarVolume = ${icecreame.sugarvolume}`);
    }
    return icecreame;
  }
}

const icecreamtefactory = new iceCreamteFactory();
const chocoIce = icecreamtefactory.createIceCreame('choco');
const strawberryIce = icecreamtefactory.createIceCreame('strawberry');
const vanillaIce = icecreamtefactory.createIceCreame('vanilla');

chocoIce.getInfo();
strawberryIce.getInfo();
vanillaIce.getInfo();
```

팩토리는 클로저를 사용 캡슐화를 한다. </br>

> 캡슐화는 외부 코드가 내부 세부 정보에 대해 직접 제어를 불허한다(은닉화)
  객체와의 상호작용은 공개된 인터페이스를 통해서만 발생하며 객체의 세부
  구현에 대한 변경사항과 외부 코드를 분리한다. 

클로저는 자스에 캡슐화(은닉화)를 위한 최적의 방법이다. </br>

```javascript
function createIceCreame(){
  let taste;
  const iceCreame = {
    setTaste:function(arg){
      taste = arg;
    },
    getTaste:function(){
      return taste;
    }
  }
  iceCreame.setTaste('strawberry');
  return iceCreame;
}
const strawberryIceCreame = createIceCreame();
console.log(strawberryIceCreame.getTaste()); 	// strawberry

///////////////////////////////////////////////////////////

function createIceCreame(){
  let taste;
  return{
    setTaste:function(arg){
      taste = arg;
    },
    getTaste:function(){
      return taste;
    }
  }
}
```

